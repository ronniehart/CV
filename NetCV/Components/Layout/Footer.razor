@using Application.Services.Settings

@inject ISettingsService SettingsService

@if (!HideFooter)
{
    <RadzenStack AlignItems="AlignItems.Center" Style="margin: 20px 0px;" Gap="5px">
        <RadzenText TextStyle="TextStyle.H5" Text="@FullName" />
        <RadzenText TextStyle="TextStyle.Caption" Text="@Version" />
        <RadzenLink Path="https://github.com/ronniehartmann/NetCV" Text="GitHub Repository" />
    </RadzenStack>
}

@code {
    [Parameter]
    public string FullName { get; set; } = string.Empty;

    private bool HideFooter = false;
    private string Version = "V 0.0.0";

    protected override async Task OnInitializedAsync()
    {
        HideFooter = await SettingsService.GetHideFooterAsync();
        if (!HideFooter)
        {
            Version = $"V {typeof(Program).Assembly.GetName().Version!.ToString(3)}";
        }
    }
}
